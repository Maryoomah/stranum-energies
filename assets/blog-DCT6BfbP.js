import{r as a,j as e}from"./index-CfDtze4A.js";import{S as P,a as O}from"./Section-BReFHtnw.js";import{P as A}from"./PageHero-DLiE83Hw.js";import{u as k,S as F,a as B,F as I}from"./footer-Bv2XxFQP.js";import{B as L}from"./Cards-Cptx9qFR.js";import{p as b}from"./posts-CU5SGfxN.js";const H=()=>{const[r,f]=a.useState(""),[l,j]=a.useState("All"),[o,i]=a.useState(1),n=4,[d,c]=a.useState({isOpen:!1,type:"success",message:""}),[g,h]=a.useState(!1),{register:w,handleSubmit:y,reset:N,formState:{errors:m}}=k(),v=async s=>{h(!0);try{if((await fetch("https://formsubmit.co/ajax/info@stranumenergies.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:s.email,_subject:"New Blog Newsletter Subscription",message:"A new user has subscribed from the Blog page sidebar."})})).ok)c({isOpen:!0,type:"success",message:"Subscription successful! You'll receive our monthly energy insights."}),N();else throw new Error("Subscription failed")}catch{c({isOpen:!0,type:"error",message:"Failed to subscribe. Please try again later."})}finally{h(!1)}},S=["All",...new Set(b.map(s=>s.category))],x=a.useMemo(()=>b.filter(s=>{const t=s.title.toLowerCase().includes(r.toLowerCase())||s.excerpt.toLowerCase().includes(r.toLowerCase()),E=l==="All"||s.category===l;return t&&E}),[r,l]),u=Math.ceil(x.length/n),p=x.slice((o-1)*n,o*n),C=s=>{i(s),window.scrollTo({top:400,behavior:"smooth"})};return e.jsxs("main",{children:[e.jsx(P,{title:"Energy Insights",description:"Latest news, insights, and expert opinions from Stranum Energies."}),e.jsx(A,{title:"ENERGY INSIGHTS",subtitle:"Expert perspectives on the evolving landscape of global and regional energy.",image:"/stranum-energies/images/hero3.jpg"}),e.jsx(O,{bg:"white",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-12",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-10",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-blue-900 font-extrabold text-lg mb-2 flex items-center",children:["Search Articles",e.jsx("span",{className:"ml-3 h-1 w-8 bg-orange-500 rounded-full"})]}),e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-4",children:"Find specific insights"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"Keywords...",value:r,onChange:s=>{f(s.target.value),i(1)},className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 outline-none focus:ring-2 focus:ring-orange-500 transition-all font-medium"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-blue-900 font-extrabold text-lg mb-2 flex items-center",children:["Categories",e.jsx("span",{className:"ml-3 h-1 w-8 bg-orange-500 rounded-full"})]}),e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-4",children:"Explore by topic"}),e.jsx("div",{className:"flex flex-col gap-2",children:S.map(s=>e.jsx("button",{onClick:()=>{j(s),i(1)},className:`text-left px-6 py-4 rounded-2xl font-bold text-sm transition-all ${l===s?"bg-blue-900 text-white shadow-lg":"bg-slate-50 text-slate-600 border border-slate-100 hover:bg-white hover:border-orange-500"}`,children:s},s))})]}),e.jsxs("div",{className:"bg-orange-500 rounded-3xl p-8 text-white relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h4",{className:"text-2xl font-black mb-4",children:"Join Our Newsletter"}),e.jsx("p",{className:"text-white/80 text-sm mb-6 leading-relaxed",children:"Get the latest energy insights delivered to your inbox monthly."}),e.jsxs("form",{onSubmit:y(v),className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",...w("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email"}}),placeholder:"Email Address",className:`w-full bg-white/20 border rounded-xl px-4 py-3 placeholder-white/60 outline-none focus:bg-white/30 transition-all ${m.email?"border-white/60 ring-2 ring-white/20":"border-white/30"}`}),m.email&&e.jsx("p",{className:"absolute left-0 -bottom-5 text-[10px] text-white font-bold",children:m.email.message})]}),e.jsx("button",{type:"submit",disabled:g,className:"w-full bg-white text-orange-600 font-black py-4 rounded-xl shadow-lg hover:shadow-2xl transition-all flex items-center justify-center gap-2 mt-4",children:g?e.jsx("div",{className:"w-4 h-4 border-2 border-orange-600/20 border-t-orange-600 rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Sign Up ",e.jsx(F,{size:14})]})})]})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl transition-transform duration-1000 group-hover:scale-150"})]})]}),e.jsxs("div",{className:"lg:col-span-3",children:[p.length>0?e.jsx("div",{className:"flex flex-col gap-8 mb-16",children:p.map((s,t)=>e.jsx("div",{"data-aos":"fade-up","data-aos-delay":t*100,children:e.jsx(L,{post:s})},s.slug))}):e.jsx("div",{className:"text-center py-24 bg-slate-50 rounded-3xl border border-dashed border-slate-300",children:e.jsx("p",{className:"text-slate-400 font-medium text-lg",children:"No articles found in this category."})}),u>1&&e.jsx("div",{className:"flex gap-2",children:Array.from({length:u}).map((s,t)=>e.jsx("button",{onClick:()=>C(t+1),className:`w-12 h-12 rounded-xl font-bold transition-all ${o===t+1?"bg-blue-900 text-white shadow-lg shadow-blue-950/20":"bg-white text-slate-600 border border-slate-200 hover:border-orange-500"}`,children:t+1},t))})]})]})}),e.jsx(B,{isOpen:d.isOpen,type:d.type,message:d.message,onClose:()=>c(s=>({...s,isOpen:!1}))}),e.jsx(I,{})]})};export{H as default};
